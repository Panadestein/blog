_bool â† {ð”½â—¶"#f"â€¿"#t"}
C â† {ð•¨ð•Špâ€¿v:
  oâ€¿h â‡ ð•¨ â‹ˆ p â€¢HashMap v
  F â‡ {h.Has ð•© ? h; @â‰¢o ? o.F ð•©; 0}
}

env â† @ C âŸ¨
  "sin", "cos", "tan", "asin", "acos", "atan"
  "log", "+", "-", "*", "/", ">", "<", ">=", "<=", "="
  "abs", "append", "apply", "begin", "car", "cdr", "cons"
  "eq?", "expt", "equal?", "length", "list", "list?"
  "map", "max", "min", "not", "null?", "number?"
  "print", "round", "symbol?", "nil", "pi"
âŸ© â‹ˆ âŸ¨
  â‹†â¼, +Â´, -Â´, Ã—Â´, Ã·Â´, >Â´, <Â´, â‰¥Â´, â‰¤Â´, =Â´
  |, âˆ¾Â´, {ð•Žð•©}Â´, {âˆ¾ð•©}, âŠ‘âˆ˜âˆ¾, 1âŠ¸â†“âˆ˜âˆ¾, <âŠ¸âˆ¾Â´
  â‰¡Â´_bool, â‹†Â´, =Â´_bool, â‰ âˆ˜âˆ¾, âŠ¢, (0=â€¢Typeâˆ˜âŠ‘)_bool
  {ð•Žâˆ˜â‹ˆÂ¨ð•©}Â´, âŒˆÂ´, âŒŠÂ´, 0âŠ¸â‰ _boolÂ¬, @âŠ¸=_bool, (1=â€¢Typeâˆ˜âŠ‘)_bool 
  {ð•©}, âŒŠ0.5+âŠ¢, 2âŠ¸=_bool{â€¢TypeâŠ‘âˆ¾ð•©}, @, Ï€
âŸ© âˆ¾Ëœ â€¢math â€¢ns.GetÂ¨ "sin"â€¿"cos"â€¿"tan"â€¿"asin"â€¿"acos"â€¿"atan"

_sch â† {
  T â† " "âŠ¸â‰¢Â¨âŠ¸/Â·(-âŸœ1Â·+`Â·Â¬âŠ¸âˆ§âŸœÂ»âŠ¸âˆ¨Â·+Ë"( )"=âŒœâŠ¢)âŠ¸âŠ”(âŠ¢+22Ã—@=10-ËœâŠ¢)
  R â† {
    ð•ŠâŸ¨âŸ©: "Empty program"!0;
    ð•Šð•©: {
      "("â‰¡âŠ‘ð•¨ ? lâ†âŸ¨âŸ© â‹„ lâ‹ˆ1â†“{tâ€¿ts: tsâŠ£lâˆ¾â†©<t}âˆ˜Râ€¢_while_(")"â‰¢âŠ‘) ð•©;
      ")"â‰¡âŠ‘ð•¨ ? "Unexpected )"!0 ;
      ð•© â‹ˆËœ â€¢ParseFloatâŽŠâŠ¢ âŠ‘ð•¨
    }Â´ 1(â†‘â‹ˆâ†“)ð•©
  }
  E â† {
    0â‰ ð•¨.F ð•© ? (ð•¨.F ð•©).Get ð•©;
    1=â€¢TypeâŠ‘âŸ¨ð•©âŸ© ? ð•©;
    "quote"â‰¡âŠ‘ð•© ? Â·â€¿arg â† ð•© â‹„ arg;
    "if"â‰¡âŠ‘ð•© ? Â·â€¿tstâ€¿cndâ€¿alt â† ð•© â‹„ ð•¨(âŠ£ð•Šð•Šâ—¶altâ€¿cnd)tst;
    "define"â‰¡âŠ‘ð•© ? Â·â€¿varâ€¿val â† ð•© â‹„ âŸ¨âŸ© âŠ£ var ð•¨.h.Set ð•¨ð•Šval;
    "lambda"â‰¡âŠ‘ð•© ? Â·â€¿parâ€¿bod â† ð•© â‹„ ð•¨{bod EËœ ð•— C parâ€¿ð•©};
    f â† ð•¨ð•ŠâŠ‘ð•© â‹„ F ð•¨âŠ¸ð•ŠÂ¨1â†“ð•© 
  }
  psâ€¿rs â† "(   )"â€¿"âŸ¨"",â€¿âŸ©" â‹„ P â† (âŠ¢+Ë(ps-rs)Ã—rs=âŒœâŠ¢)âˆ˜â€¢ReprÂ·1âŠ¸=âˆ˜â‰ â—¶âŠ¢â€¿âŠ‘(0<â‰ Â¨)âŠ¸/âŽŠâŠ¢
  P ð•—âŠ¸EâŠ‘Râˆ˜T ð•©
}

Scheme â† env _sch

Scheme "((lambda (x) (list x (list (quote quote) x)))
         (quote (lambda (x) (list x (list (quote quote) x)))))"

ch â† "../supp/chicken/libchicken.so" â€¢FFI "*u8"â€¿"eval_scheme"â€¿">*u8:c8"
R5RS â† {@+ð•©.ReadÂ¨ â†•1âŠ¸+â€¢_while_(0â‰ ð•©.Read)0}Ch

(Schemeâ‹ˆR5RS)Â¨ âŸ¨
  "(+ 10 122)"
  "(max 5 6 7 1)"
  "(* 4 2)"
  "(begin (define r 10) (+ (/ 4 2) (* r r)))"
  "(number? (quote b))"
  "(symbol? (quote var))"
  "(if (> (* 11 11) 120) (* 7 6) oops)"
  "(car (quote (1 2 3)))"
  "(list? (quote (1 2 3)))"
  "(length (quote ((1 2) 3)))"
  "(begin
     (define fib (lambda (n) (if (< n 2) 1 (+ (fib (- n 1)) (fib (- n 2))))))
     (define range (lambda (a b) (if (= a b) (quote ()) (cons a (range (+ a 1) b)))))
     (map fib (range 0 10)))"
âŸ©
